<% provide(:title, "Create an Account") %>
<% provide(:main_content_header, "Create an Account") %>
<% content_for :side_nav do %>
  <% render partial: "layouts/main_side_nav" %>
<% end %>
<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation" class="message failure u-full-width">
      <p class="zero-margin">
        <strong>Error:</strong>
        <% 
          @user.errors.full_messages.each_with_index do |msg, i| 
            if i < @user.errors.full_messages.size - 1
              concat msg += ", "
            else
              concat msg 
            end
          end
        %>
      </p>
    </div>
  <% end %>

  <!-- Row 1 -->
  <div class="row">
    <!-- First Name -->
    <div class="four columns">
      <label for="first-name">First Name</label>
      <%= f.text_field :fname, class: "u-full-width" %>
    </div>

    <!-- Last Name -->
    <div class="four columns">
      <label for="last-name">Last Name</label>
      <%= f.text_field :lname, class: "u-full-width" %>
    </div>

    <!-- Dot Number -->
    <div class="two columns">
      <label for="dot=number">Dot Number</label>
      <%= f.text_field :dot_number, class: "width-50-px" %>
    </div>
  </div>

  <!-- Row 2 -->
  <div class="row">
    <!-- Password -->
    <div class="four columns">
      <label for="user-password">Password</label>
      <%= f.password_field :password, class: "u-full-width" %>
    </div>

    <!-- Retype Password -->
    <div class="four columns">
      <label for="user-retyped-password">Retype Password</label>
      <%= f.password_field :password_confirmation, class: "u-full-width" %>
    </div>
  </div>

  <!-- Row 3 -->
  <div class="row">
    <!-- User Type -->
    <div class="eight columns">
      <fieldset>
        <legend>Select User Type</legend>
        <!-- Student -->
        <div class="row">
          <div class="four columns">
            <label>
              <%= f.radio_button :role, 0 %><span class="label-body">Student</span>
            </label>
          </div>
        </div>
        <!-- Instructor -->
        <div class="row">
          <div class="four columns">
            <label>
              <%= f.radio_button :role, 1 %><span class="label-body">Instructor</span>
            </label>
          </div>
        </div>
      </fieldset>
    </div>
  </div>

  <!-- Row 4 -->
  <div class="row">
    <div class="two columns offset-by-eight">
      <%= f.submit "Create my account", class: "button-primary" %>
    </div>
  </div>

<% end %>
